{"version":3,"sources":["config.js","components/Products.jsx","components/Cart.jsx","App.js","reportWebVitals.js","index.js"],"names":["HOST","Products","setCart","cart","useState","products","setProducts","useEffect","a","axios","result","data","className","map","product","key","name","price","src","image","alt","onClick","itemInCart","find","item","newCart","quantity","push","post","productId","_id","addToCart","Cart","discountPercentage","discountInEuro","totalPrice","setTotalPrice","getTotalSum","removeFromCart","productToRemove","indexFound","findIndex","filter","delete","applyDiscount","total","document","querySelector","value","console","log","reduce","sum","parseInt","length","type","id","App","page","setPage","navigateTo","nextPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a735303c.chunk.js","sourcesContent":["export  const HOST = \"http://testshop-env.eba-cfs8x39t.eu-central-1.elasticbeanstalk.com/\";","import React, {useState, useEffect, useContext } from 'react';\r\nimport { HOST } from '../config.js';\r\nimport axios from 'axios';\r\n\r\nexport default function Products({setCart, cart}) {\r\n\r\n    const [products, setProducts] = useState([]);\r\n\r\n    useEffect(async () => {\r\n        const result = await axios(HOST + '/product');\r\n        setProducts(result.data.data);\r\n    }, []);\r\n\r\n\r\n\r\n\r\n    const addToCart = (product) =>{\r\n      let itemInCart = cart.find(item => product.name === item.name);\r\n      let newCart = [...cart];\r\n      \r\n      if(itemInCart) {\r\n        itemInCart.quantity++\r\n      } else {\r\n        itemInCart = {...product, quantity: 1};\r\n        newCart.push(itemInCart);\r\n      }\r\n      setCart(newCart);\r\n      axios.post(HOST + '/cart', {productId: product._id, quantity: 1})\r\n    }\r\n    \r\n        \r\n\r\n    return (\r\n        <>\r\n        <h1>Products</h1>\r\n        <div className=\"products\">\r\n\r\n            {products && products.map((product, key) => (\r\n                \r\n            <div className=\"product\" key={key}>\r\n              <h3>{product.name}</h3>\r\n              <h4>$ {product.price}</h4>\r\n              <img src={HOST +'/'+ product.image} alt={product.name} />\r\n            <button onClick={() => addToCart(product)}>Add to Cart</button>\r\n          </div>\r\n        ))}  \r\n        </div>\r\n        </>\r\n    )\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport { HOST } from '../config.js';\r\n\r\nimport axios from 'axios';\r\n\r\n\r\nexport default function Cart({ cart, setCart }) {\r\n    \r\n    let discountPercentage = null;\r\n    let discountInEuro = null;\r\n\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n    useEffect(() => {\r\n        getTotalSum();\r\n    }, []);\r\n\r\n\r\n\r\n    const removeFromCart = async (productToRemove) => {\r\n         const indexFound = cart.findIndex(item => item._id == productToRemove._id);\r\n         const price = cart[indexFound].price;\r\n\r\n         if(cart[indexFound].quantity > 1) {\r\n           cart[indexFound].quantity--;\r\n         } else {\r\n          setCart(cart.filter(product => product !== productToRemove))\r\n         }\r\n        setTotalPrice(totalPrice - price);\r\n\r\n       const result = await axios.delete(HOST + '/cart/'+ productToRemove._id);\r\n\r\n\r\n      }\r\n\r\n\r\n      const clearCart = () => {\r\n        setCart([]);\r\n        axios.delete(HOST + '/cart/empty-cart')\r\n      }\r\n\r\n      \r\n\r\n    const applyDiscount = async (total) => {\r\n        discountPercentage = document.querySelector('#discountPercentage').value;\r\n        discountInEuro = document.querySelector('#discountEuro').value;\r\n        getTotalSum();\r\n        axios.post(HOST + '/cart/discount', { discountPercentage, discountInEuro });\r\n        console.log('discount')\r\n    }\r\n\r\n    const getTotalSum = () => {\r\n        let value = cart.reduce((sum, { price, quantity }) => sum + parseInt(price) * quantity, 0);\r\n        if(discountInEuro) {value -= discountInEuro}\r\n        if(discountPercentage) { value -= (value / 100) * discountPercentage}\r\n        setTotalPrice(value);\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n        <h1>Cart</h1>\r\n        {cart.length > 0 &&\r\n        <button onClick={clearCart}>Clear Cart</button>\r\n        }\r\n        <div className=\"products\">\r\n        {cart.map((product, key) => (\r\n            <div className=\"product\" key={key}>\r\n              <h3>{product.name}</h3>\r\n              <h4>$ {product.price}</h4>\r\n              <h4>{product.quantity}</h4>\r\n              <img src={HOST + '/' + product.image} alt={product.name} />\r\n              <button onClick={() => removeFromCart(product)}>Remove</button>\r\n          </div>\r\n        ))}\r\n        </div>\r\n        <h3>Discount %</h3>\r\n        <input type=\"text\" id=\"discountPercentage\"></input>\r\n        <h3>Discount $</h3>\r\n        <input type=\"text\" id=\"discountEuro\"></input><br/>\r\n        <button onClick={applyDiscount}>Apply discount</button>\r\n        \r\n        <div>Total: ${totalPrice}</div>\r\n        </>\r\n    )\r\n} ","import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nimport Products from './components/Products';\r\nimport Cart from './components/Cart';\r\nimport {HOST} from './config.js';\r\n\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  const [page, setPage] = useState('products')\r\n  const [cart, setCart] = useState([]);\r\n\r\n\r\n\r\n  const navigateTo = (nextPage) => {\r\n    setPage(nextPage);\r\n  }\r\n\r\n  const getCartTotal = () => {\r\n    return cart.reduce((sum, {quantity}) => sum + quantity, 0);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header>\r\n        \r\n        <button onClick={() => navigateTo('cart')}>Cart ({getCartTotal()})</button>\r\n\r\n        <button onClick={() => navigateTo('products')}>Home</button>\r\n\r\n      </header>\r\n      {page === 'products' && <Products setCart={setCart} cart={cart} />}\r\n      {page === 'cart' && <Cart cart={cart} setCart={setCart}  />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}